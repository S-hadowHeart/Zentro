import{u as I,j as e,A as ze}from"./auth-DJ_g7L93.js";import{a as Re,R as A,r as s,u as xe,L as ae,b as Me,B as Ee,c as Fe,d as E,N as F}from"./vendor-DDy6G2mo.js";import{u as fe,T as Oe}from"./tasks-DxaOzoAq.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();var pe,ie=Re;pe=ie.createRoot,ie.hydrateRoot;var ge={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},de=A.createContext&&A.createContext(ge),Te=["attr","size","title"];function Be(t,r){if(t==null)return{};var a=Le(t,r),n,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(l=0;l<o.length;l++)n=o[l],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Le(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},q.apply(this,arguments)}function ce(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),a.push.apply(a,n)}return a}function J(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ce(Object(a),!0).forEach(function(n){Ae(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ae(t,r,a){return r=Ie(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function Ie(t){var r=$e(t,"string");return typeof r=="symbol"?r:r+""}function $e(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function be(t){return t&&t.map((r,a)=>A.createElement(r.tag,J({key:a},r.attr),be(r.child)))}function v(t){return r=>A.createElement(He,q({attr:J({},t.attr)},r),be(t.child))}function He(t){var r=a=>{var{attr:n,size:l,title:o}=t,c=Be(t,Te),u=l||a.size||"1em",m;return a.className&&(m=a.className),t.className&&(m=(m?m+" ":"")+t.className),A.createElement("svg",q({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,c,{className:m,style:J(J({color:t.color||a.color},a.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&A.createElement("title",null,o),t.children)};return de!==void 0?A.createElement(de.Consumer,null,a=>r(a)):r(ge)}function De(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function me(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function W(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function ve(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function G(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ue(t){return v({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function z(t){return v({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function X(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function Ve(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Ge(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function ee(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function he(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function Y(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"},child:[]}]})(t)}function _e(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function se(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function te(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Ue(t){return v({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function re(t){return v({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function We(){const[t,r]=s.useState(""),[a,n]=s.useState(""),[l,o]=s.useState(""),[c,u]=s.useState(!1),m=xe(),{login:j}=I(),i=async g=>{g.preventDefault(),o(""),u(!0);const p=await j(t,a);p.success?m("/"):o(p.error),u(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(z,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Welcome to Zentro"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Your zen productivity companion"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:i,children:[l&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),l]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your username",value:t,onChange:g=>r(g.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",value:a,onChange:g=>n(g.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[c?e.jsx(se,{className:"animate-spin h-5 w-5 mr-2"}):null,"Enter the Garden"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(ae,{to:"/register",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"New to the Garden? Cultivate Your Path"})})]})]})]})}function qe(){const[t,r]=s.useState(""),[a,n]=s.useState(""),[l,o]=s.useState(""),[c,u]=s.useState(""),[m,j]=s.useState(!1),i=xe(),{register:g}=I(),p=async N=>{if(N.preventDefault(),u(""),a!==l){u("Passwords do not match");return}if(a.length<6){u("Password must be at least 6 characters long");return}j(!0);const O=await g(t,a);O.success?i("/"):u(O.error),j(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(z,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Cultivate Your Path"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Begin your journey to mindful productivity"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[c&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Choose your username",value:t,onChange:N=>r(N.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Create your password",value:a,onChange:N=>n(N.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password",value:l,onChange:N=>o(N.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[m?e.jsx(se,{className:"animate-spin h-5 w-5 mr-2"}):null,"Cultivate Your Path"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(ae,{to:"/login",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"Already in the Garden? Enter"})})]})]})]})}function we({show:t,onClose:r,reward:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-emerald-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-emerald-700 text-center mb-6 animate-fade-in-down",children:"Inner Peace Blossoms! 🎉"}),e.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Your harvest:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-emerald-600 bg-emerald-50 px-4 py-3 rounded-lg border border-emerald-100 mb-8 break-words shadow-md",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-emerald-300 shadow-xl",children:"Cherish"})]})}):null}function je({show:t,onClose:r,punishment:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-red-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-red-700 text-center mb-6 animate-fade-in-down",children:"A Pebble in Your Path 😅"}),e.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Time for reflection:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-red-600 bg-red-50 px-4 py-3 rounded-lg border border-red-100 mb-8 break-words shadow-md",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-300 shadow-xl",children:"Embrace Growth"})]})}):null}function Je({onPomodoroEnd:t}){const[r,a]=s.useState(25),[n,l]=s.useState(5),[o,c]=s.useState(25*60),[u,m]=s.useState(!1),[j,i]=s.useState(!1),[g,p]=s.useState(!1),[N,O]=s.useState(""),[T,B]=s.useState(!1),[b,R]=s.useState(""),[y,L]=s.useState(""),{user:w,fetchUser:$,loading:Z}=I(),{tasks:H,fetchTasks:_,loading:K}=fe(),M=s.useRef(null),d=s.useRef(j),h=s.useRef(r),k=s.useRef(n),P=s.useRef(),S=s.useRef(),D=s.useRef(),U=s.useRef(),Q=s.useRef();if(s.useEffect(()=>{d.current=j,h.current=r,k.current=n,P.current=ne,S.current=le,D.current=t,U.current=m,Q.current=i},[j,r,n,ne,le,t,m,i]),Z||K||!w)return e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-emerald-100 min-h-[300px]",children:[e.jsx(se,{className:"w-10 h-10 text-emerald-500 animate-spin mb-4"}),e.jsx("p",{className:"text-lg text-gray-700",children:"Cultivating focus, please wait..."})]});s.useEffect(()=>{if(H.length>0){const x=H.filter(f=>!f.completed);if(x.length>0){const f=x[0]._id;y!==f&&L(f)}else y!==""&&L("")}else y!==""&&L("")},[H]);const ne=s.useCallback(async x=>{try{let f=null;w!=null&&w.rewards&&w.rewards.length>0&&(f=w.rewards[Math.floor(Math.random()*w.rewards.length)],O(f),p(!0));const C=localStorage.getItem("token");if(!C)return;(await fetch("/api/users/stats",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({completed:!0,reward:f,duration:x})})).ok?await $(C):console.error("Failed to update user stats"),y&&await oe(y,x)}catch(f){console.error("Error during pomodoro complete process:",f)}},[w,y,$,oe]),le=s.useCallback(async x=>{try{let f=null;w!=null&&w.punishments&&w.punishments.length>0&&(f=w.punishments[Math.floor(Math.random()*w.punishments.length)],R(f),B(!0));const C=localStorage.getItem("token");if(!C)return;(await fetch("/api/users/stats",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({completed:!1,punishment:f,duration:x})})).ok?await $(C):console.error("Failed to update user stats on interrupt")}catch(f){console.error("Error during pomodoro interrupt process:",f)}},[w,$]);s.useEffect(()=>(u?M.current=setInterval(()=>{c(x=>x<=1?(clearInterval(M.current),U.current(!1),d.current?(Q.current(!1),D.current&&D.current(),h.current*60):(P.current&&P.current(h.current),Q.current(!0),k.current*60)):x-1)},1e3):M.current&&clearInterval(M.current),()=>{M.current&&clearInterval(M.current)}),[u]);const ye=s.useCallback(x=>{const f=Math.floor(x/60),C=x%60;return`${f.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},[]),oe=s.useCallback(async(x,f)=>{if(x)try{(await fetch(`/api/tasks/${x}/pomodoro`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({duration:f})})).ok?await _():console.error("Failed to update task pomodoros")}catch(C){console.error("Error updating task:",C)}},[_]),Ne=s.useCallback(()=>{if(!y){alert("Please select a cultivation to focus on");return}m(!0),i(!1)},[y]),ke=s.useCallback(()=>{m(!1)},[]),Ce=s.useCallback(()=>{m(!1),i(!1),c(r*60)},[r]),Se=(r*60-o)/(r*60)*100;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent mb-2",children:"Zen Focus Session"}),e.jsx("p",{className:"text-gray-600",children:"Cultivate your inner peace, one moment at a time"})]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600 transition-all duration-1000 ease-linear",style:{width:`${Se}%`}})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl font-bold text-gray-800",children:ye(o)})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("select",{value:y,onChange:x=>L(x.target.value),className:"w-full px-4 py-2 rounded-lg border border-emerald-200 focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",children:[e.jsx("option",{value:"",children:"Select a cultivation to focus on..."}),H.map(x=>e.jsx("option",{value:x._id,children:x.title},x._id))]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[!u&&(o===r*60||o===0)?e.jsxs("button",{onClick:Ne,className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Focus"})]}):u?e.jsxs("button",{onClick:ke,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 flex items-center space-x-2",children:[e.jsx(Ve,{className:"w-5 h-5"}),e.jsx("span",{children:"Pause"})]}):e.jsxs("button",{onClick:Ce,className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"Reset"})]}),e.jsxs("button",{onClick:()=>{m(!1),i(!1),c(r*60),S.current&&S.current(r)},className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"Interrupt"})]})]})]}),!y&&e.jsxs("div",{className:"text-center py-8 bg-white/50 rounded-lg border border-emerald-100",children:[e.jsx(z,{className:"w-12 h-12 text-emerald-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Select a cultivation to begin your focus session"})]}),e.jsx(we,{show:g,onClose:()=>p(!1),reward:N}),e.jsx(je,{show:T,onClose:()=>B(!1),punishment:b})]})}function Ye(){const{tasks:t,addTask:r,deleteTask:a,toggleTask:n}=fe(),[l,o]=s.useState(""),[c,u]=s.useState("all"),m=t.filter(i=>c==="active"?!i.completed:c==="completed"?i.completed:!0),j=i=>{i.preventDefault(),l.trim()&&(r(l.trim()),o(""))};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx(Y,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Cultivations"})]}),e.jsx("div",{className:"flex space-x-2",children:[{type:"all",icon:z,label:"All Cultivations"},{type:"active",icon:te,label:"Flourishing"},{type:"completed",icon:X,label:"Harvested"}].map(({type:i,icon:g,label:p})=>e.jsxs("button",{onClick:()=>u(i),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 ${c===i?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-emerald-50 shadow-sm"}`,children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:p})]},i))})]}),e.jsxs("form",{onSubmit:j,className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:l,onChange:i=>o(i.target.value),placeholder:"Plant a new seed...",className:"w-full px-4 py-3 pl-12 rounded-lg border border-emerald-200 focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out bg-white/50 backdrop-blur-sm"}),e.jsx(Y,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Plant"})]})]}),e.jsx("div",{className:"space-y-4",children:m.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/50 backdrop-blur-sm rounded-xl border border-emerald-100 shadow-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(z,{className:"w-8 h-8 text-emerald-400"})}),e.jsx("p",{className:"text-gray-600 text-lg",children:c==="all"?"Your garden is empty. Plant your first seed of growth.":c==="active"?"No cultivations are currently flourishing.":"No cultivations have been harvested yet."})]}):m.map(i=>e.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-xl shadow-sm hover:shadow-md border border-emerald-100 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>n(i._id),className:`w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all duration-300 ease-in-out ${i.completed?"bg-gradient-to-r from-emerald-500 to-emerald-600 border-transparent text-white":"border-emerald-300 hover:border-emerald-500"}`,children:i.completed&&e.jsx(W,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-gray-700 transition-all duration-300 ease-in-out ${i.completed?"line-through text-gray-400":""}`,children:i.title})]}),e.jsx("button",{onClick:()=>a(i._id),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]})},i._id))})]})}function Ze(){const{user:t,fetchUser:r}=I(),[a,n]=s.useState([]),[l,o]=s.useState([]),[c,u]=s.useState(""),[m,j]=s.useState(""),[i,g]=s.useState(""),[p,N]=s.useState(!1),[O,T]=s.useState(null),[B,b]=s.useState(25);s.useEffect(()=>{var d;t&&(n(t.rewards||[]),o(t.punishments||[]),b(((d=t.settings)==null?void 0:d.dailyGoal)||25))},[t]);const R=async d=>{if(!p){g(""),N(!0),T(d);try{const h=localStorage.getItem("token");if(!h){g("Please log in again");return}let k={},P=`/api/users/${d}`,S="";if(d==="rewards"||d==="punishments")k={[d]:d==="rewards"?a:l},S=`${d==="rewards"?"Seeds of joy nurtured!":"Weeds uprooted!"}`;else if(d==="settings")k={settings:{dailyGoal:B}},S="Arrangements harmonized!";else throw new Error("Invalid update type");const D=await fetch(P,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify(k)});if(!D.ok){const U=await D.json();throw new Error(U.error||"Server error")}g(S),await r(h)}catch(h){g(`Error updating ${d}: ${h.message||"Server unreachable. Please check if the server is running."}`)}finally{N(!1),T(null)}}},y=(d,h,k,P)=>{h.trim()&&(k(d==="rewards"?[...a,h.trim()]:[...l,h.trim()]),P(""))},L=(d,h,k)=>{k(d==="rewards"?a.filter((P,S)=>S!==h):l.filter((P,S)=>S!==h))},w=d=>{d.preventDefault(),R("settings")},$=()=>{y("rewards",c,n,u)},Z=d=>{L("rewards",d,n)},H=()=>{R("rewards")},_=()=>{y("punishments",m,o,j)},K=d=>{L("punishments",d,o)},M=()=>{R("punishments")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx(G,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Arrangements"})]}),i&&e.jsxs("div",{className:`p-4 rounded-xl text-sm flex items-center space-x-2 ${i.includes("Error")?"bg-red-50 text-red-500 border border-red-100":"bg-emerald-50 text-emerald-500 border border-emerald-100"}`,children:[i.includes("Error")?e.jsx(X,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:i})]}),e.jsxs("form",{onSubmit:w,className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Y,{className:"w-5 h-5 text-emerald-600"}),e.jsx("label",{htmlFor:"dailyGoal",className:"text-lg font-semibold text-gray-800",children:"Daily Cultivation Goal (minutes)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",id:"dailyGoal",value:B,onChange:d=>b(d.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"e.g., 120",required:!0}),e.jsx(z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsx("button",{type:"submit",disabled:p,className:"mt-4 w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Harmonizing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Nurture Goal"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(te,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Seeds of Joy"})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:c,onChange:d=>u(d.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"Sow a new seed of joy..."}),e.jsx(Y,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{onClick:$,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Sow"})]})]}),e.jsx("ul",{className:"space-y-3",children:a.map((d,h)=>e.jsxs("li",{className:"group flex justify-between items-center bg-white/50 backdrop-blur-sm p-4 rounded-lg border border-emerald-100 shadow-sm transition-all duration-300 ease-in-out hover:shadow-md",children:[e.jsx("span",{className:"text-gray-700",children:d}),e.jsx("button",{onClick:()=>Z(h),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]},h))}),a.length>0&&e.jsx("button",{onClick:H,disabled:p,className:"mt-6 w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Nurturing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Nurture Seeds"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(X,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Weeds to Uproot"})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:m,onChange:d=>j(d.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"Identify a weed to uproot..."}),e.jsx(z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{onClick:_,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Identify"})]})]}),e.jsx("ul",{className:"space-y-3",children:l.map((d,h)=>e.jsxs("li",{className:"group flex justify-between items-center bg-white/50 backdrop-blur-sm p-4 rounded-lg border border-emerald-100 shadow-sm transition-all duration-300 ease-in-out hover:shadow-md",children:[e.jsx("span",{className:"text-gray-700",children:d}),e.jsx("button",{onClick:()=>K(h),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]},h))}),l.length>0&&e.jsx("button",{onClick:M,disabled:p,className:"mt-6 w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Clearing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear Weeds"})]})})]})]})}function Ke(){const{user:t}=I(),[r,a]=s.useState({today:0,week:0,month:0,streak:0});s.useEffect(()=>{(async()=>{try{const o=localStorage.getItem("token");if(!o)return;const c=await fetch("/api/users/pomodoro-stats",{headers:{Authorization:`Bearer ${o}`}});if(c.ok){const u=await c.json();a(u)}else console.error("Failed to fetch stats:",c.status,c.statusText)}catch(o){console.error("Error fetching stats:",o)}})()},[]);const n=[{title:"Today's Cultivation",value:`${Math.floor(r.today/60)}h ${r.today%60}m`,icon:ve,color:"from-emerald-500 to-emerald-600"},{title:"Weekly Growth",value:`${Math.floor(r.week/60)}h ${r.week%60}m`,icon:me,color:"from-blue-500 to-blue-600"},{title:"Monthly Journey",value:`${Math.floor(r.month/60)}h ${r.month%60}m`,icon:z,color:"from-green-500 to-green-600"},{title:"Current Flow",value:`${r.streak} days`,icon:ue,color:"from-orange-500 to-orange-600"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent mb-2",children:"Your Growth Journal"}),e.jsx("p",{className:"text-gray-600",children:"Track your journey of mindful cultivation"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((l,o)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 ease-in-out hover:-translate-y-1 hover:shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:l.title}),e.jsx(l.icon,{className:`w-6 h-6 text-${l.color.split("-")[1]}-500`})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:l.value})]},o))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Growth Insights"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-700 font-medium",children:"Daily Goal Progress"}),e.jsxs("p",{className:"text-sm text-emerald-600",children:[Math.min(100,Math.floor(r.today/(t.dailyGoal||120)*100)),"% of your daily goal"]})]}),e.jsx("div",{className:"w-16 h-16 relative",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:`M18 2.0845\r
                    a 15.9155 15.9155 0 0 1 0 31.831\r
                    a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#10B981",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.floor(r.today/(t.dailyGoal||120)*100))}, 100`})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium",children:"Weekly Average"}),e.jsxs("p",{className:"text-sm text-blue-600",children:[Math.floor(r.week/7)," minutes per day"]})]}),e.jsx(me,{className:"w-8 h-8 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-700 font-medium",children:"Current Streak"}),e.jsxs("p",{className:"text-sm text-orange-600",children:[r.streak," days of consistent cultivation"]})]}),e.jsx(ue,{className:"w-8 h-8 text-orange-500"})]})]})]})]})}function V(){const{user:t,logout:r}=I(),a=Me(),[n,l]=s.useState("pomodoro"),[o,c]=s.useState(!1),[u,m]=s.useState(!1),[j,i]=s.useState(""),[g,p]=s.useState(""),[N,O]=s.useState(0);console.log("Dashboard: user",t),console.log("Dashboard: location.pathname",a.pathname),console.log("Dashboard: activeTab",n),s.useEffect(()=>{const b=a.pathname.substring(1),R=T.find(y=>y.id===b);l(R?R.id:"pomodoro")},[a.pathname]);const T=[{id:"pomodoro",label:"Zen Focus Session",icon:ve},{id:"tasks",label:"Cultivations",icon:Ue},{id:"settings",label:"Arrangements",icon:G},{id:"report",label:"Growth Journal",icon:De}];s.useCallback(()=>{if(t&&t.settings&&t.settings.rewardSystemEnabled){const b=t.rewards[Math.floor(Math.random()*t.rewards.length)];i(b),c(!0)}},[t]),s.useCallback(()=>{if(t&&t.settings&&t.settings.rewardSystemEnabled){const b=t.punishments[Math.floor(Math.random()*t.punishments.length)];p(b),m(!0)}},[t]);const B=s.useCallback(()=>{O(b=>b+1)},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-64 h-64 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-emerald-100 shadow-lg sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx(z,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Zentro Garden"})]}),e.jsx("div",{className:"h-6 w-px bg-emerald-200"}),e.jsxs("p",{className:"text-gray-600 italic",children:["Greetings, ",t==null?void 0:t.username,"! 🌱"]})]}),e.jsxs("button",{onClick:r,className:"group flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out",children:[e.jsx("span",{children:"Seek Tranquility"}),e.jsx(_e,{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex space-x-2 p-1 bg-white/50 backdrop-blur-sm rounded-xl shadow-lg border border-emerald-100",children:T.map(b=>e.jsxs(ae,{to:`/${b.id}`,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 ${n===b.id?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-md":"text-gray-600 hover:bg-emerald-50"}`,children:[e.jsx(b.icon,{className:"w-5 h-5"}),e.jsx("span",{children:b.label})]},b.id))})}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[n==="tasks"&&e.jsx(Ye,{}),n==="settings"&&e.jsx(Ze,{}),n==="report"&&e.jsx(Ke,{},N),n==="pomodoro"&&e.jsx(Je,{onPomodoroEnd:B})]})]}),e.jsx(we,{show:o,onClose:()=>c(!1),reward:j}),e.jsx(je,{show:u,onClose:()=>m(!1),punishment:g})]})}function Qe(){const{user:t,loading:r}=I();return r?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-zen-green"})}):e.jsxs(Fe,{children:[e.jsx(E,{path:"/login",element:t?e.jsx(F,{to:"/"}):e.jsx(We,{})}),e.jsx(E,{path:"/register",element:t?e.jsx(F,{to:"/"}):e.jsx(qe,{})}),e.jsx(E,{path:"/",element:t?e.jsx(V,{}):e.jsx(F,{to:"/login"})}),e.jsx(E,{path:"/tasks",element:t?e.jsx(V,{}):e.jsx(F,{to:"/login"})}),e.jsx(E,{path:"/settings",element:t?e.jsx(V,{}):e.jsx(F,{to:"/login"})}),e.jsx(E,{path:"/report",element:t?e.jsx(V,{}):e.jsx(F,{to:"/login"})}),e.jsx(E,{path:"/pomodoro",element:t?e.jsx(V,{}):e.jsx(F,{to:"/login"})}),e.jsx(E,{path:"*",element:e.jsx(F,{to:"/"})})]})}function Xe(){return e.jsx(Ee,{children:e.jsx("div",{className:"min-h-screen bg-zen-beige",children:e.jsx(ze,{children:e.jsx(Oe,{children:e.jsx(Qe,{})})})})})}pe(document.getElementById("root")).render(e.jsx(Xe,{}));
//# sourceMappingURL=index-ClmeQknJ.js.map
