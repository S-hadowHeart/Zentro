import{a as Te,r as o,R as E,u as ue,L as I,N as Fe,b as me,c as F,B as Le,d as xe}from"./vendor-CZpL7EIb.js";import{j as e,u as P,A as Ee}from"./auth-D5haa8ya.js";import{u as _,T as Re}from"./tasks-kJLDvNEe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var fe,ae=Te;{var ne=ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;fe=function(t,r){ne.usingClientEntryPoint=!0;try{return ae.createRoot(t,r)}finally{ne.usingClientEntryPoint=!1}}}const ge=o.createContext(),pe=()=>o.useContext(ge),Be=({children:t})=>{const[r,a]=o.useState("light");o.useEffect(()=>{const s=window.localStorage.getItem("theme");if(s)a(s);else{const l=window.matchMedia("(prefers-color-scheme: dark)").matches;a(l?"dark":"light")}},[]),o.useEffect(()=>{window.localStorage.setItem("theme",r),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]);const n=()=>{a(s=>s==="light"?"dark":"light")};return e.jsx(ge.Provider,{value:{theme:r,toggleTheme:n},children:t})},be=o.createContext(),Z=()=>o.useContext(be),Ie=({children:t})=>{var ee,te;const{user:r,updateUser:a}=P(),{incrementPomodorosForTask:n}=_(),[s,l]=o.useState(0),[d,h]=o.useState(!1),[i,x]=o.useState(!1),[g,c]=o.useState(""),u=o.useRef(null),[f,v]=o.useState(!1),[j,C]=o.useState(!1),[S,b]=o.useState(!1),[R,A]=o.useState(""),[O,p]=o.useState(""),[k,y]=o.useState(0),z=((ee=r==null?void 0:r.settings)==null?void 0:ee.pomodoroDuration)||25,N=((te=r==null?void 0:r.settings)==null?void 0:te.breakDuration)||5;o.useEffect(()=>{Notification.permission!=="granted"&&Notification.permission!=="denied"&&Notification.requestPermission(),u.current=new Audio("/sounds/notification.mp3"),u.current.load()},[]),o.useEffect(()=>{d||l(i?N*60:z*60)},[z,N,i]),o.useEffect(()=>(d?document.title=`${X(s)} - ${i?"Resting":"Focusing"}`:document.title="Zen Garden",()=>{document.title="Zen Garden"}),[s,d,i]);const B=o.useCallback(()=>{u.current&&f&&(u.current.currentTime=0,u.current.play().catch(w=>console.error("Error playing sound:",w)))},[f]),H=o.useCallback(w=>{Notification.permission==="granted"&&new Notification("Zen Garden",{body:w,icon:"/leaf-solid.svg"})},[]),G=o.useCallback(async(w,M)=>{var D,re;if(r){if(y(T=>T+1),w==="completed"&&((D=r.rewards)==null?void 0:D.length)>0){const T=r.rewards[Math.floor(Math.random()*r.rewards.length)];A(T),C(!0)}else if(w==="interrupted"&&((re=r.punishments)==null?void 0:re.length)>0){const T=r.punishments[Math.floor(Math.random()*r.punishments.length)];p(T),b(!0)}try{const T=localStorage.getItem("token");await fetch("/api/users/pomo-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({status:w,duration:M})})}catch(T){console.error("Error updating session:",T)}}},[r]),Q=o.useCallback(async()=>{const w=i;if(h(!1),B(),w)H("Rest is over. Time to cultivate focus again."),G("breakEnded",N*60);else{H("Focus complete. Time to rest in the garden.");const M=z*60;g&&n(g,M),G("completed",M)}x(M=>!M)},[i,g,z,N,B,H,n,G]);o.useEffect(()=>{if(!d)return;const w=setInterval(()=>{l(M=>M<=1?(clearInterval(w),Q(),0):M-1)},1e3);return()=>clearInterval(w)},[d,Q]);const X=w=>{const M=Math.floor(w/60),D=w%60;return`${M.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},Pe={timeLeft:s,setTimeLeft:l,isRunning:d,setIsRunning:h,isBreak:i,setIsBreak:x,selectedTask:g,setSelectedTask:c,focusDuration:z,breakDuration:N,formatTime:X,unlockAudio:()=>{f||(u.current.muted=!0,u.current.play().then(()=>{u.current.pause(),u.current.currentTime=0,u.current.muted=!1,v(!0)}).catch(w=>console.error("Audio unlock failed:",w)))},onPomodoroEnd:G,showRewardModal:j,closeRewardModal:()=>{C(!1),A("")},currentReward:R,showPunishmentModal:S,closePunishmentModal:()=>{b(!1),p("")},currentPunishment:O,reportRefreshKey:k};return e.jsx(be.Provider,{value:Pe,children:t})};var ve={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},se=E.createContext&&E.createContext(ve),Ae=["attr","size","title"];function He(t,r){if(t==null)return{};var a=Oe(t,r),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Oe(t,r){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;a[n]=t[n]}return a}function V(){return V=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},V.apply(this,arguments)}function oe(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),a.push.apply(a,n)}return a}function $(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?oe(Object(a),!0).forEach(function(n){Ge(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ge(t,r,a){return r=De(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function De(t){var r=Ve(t,"string");return typeof r=="symbol"?r:r+""}function Ve(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function we(t){return t&&t.map((r,a)=>E.createElement(r.tag,$({key:a},r.attr),we(r.child)))}function m(t){return r=>E.createElement($e,V({attr:$({},t.attr)},r),we(t.child))}function $e(t){var r=a=>{var{attr:n,size:s,title:l}=t,d=He(t,Ae),h=s||a.size||"1em",i;return a.className&&(i=a.className),t.className&&(i=(i?i+" ":"")+t.className),E.createElement("svg",V({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,d,{className:i,style:$($({color:t.color||a.color},a.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&E.createElement("title",null,l),t.children)};return se!==void 0?E.createElement(se.Consumer,null,a=>r(a)):r(ve)}function _e(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ue(t){return m({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(t)}function Ye(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function qe(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function We(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Ze(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function je(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function J(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function ke(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Je(t){return m({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function Ke(t){return m({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Qe(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M323.56 51.2c-20.8 19.3-39.58 39.59-56.22 59.97C240.08 73.62 206.28 35.53 168 0 69.74 91.17 0 209.96 0 281.6 0 408.85 100.29 512 224 512s224-103.15 224-230.4c0-53.27-51.98-163.14-124.44-230.4zm-19.47 340.65C282.43 407.01 255.72 416 226.86 416 154.71 416 96 368.26 96 290.75c0-38.61 24.31-72.63 72.79-130.75 6.93 7.98 98.83 125.34 98.83 125.34l58.63-66.88c4.14 6.85 7.91 13.55 11.27 19.97 27.35 52.19 15.81 118.97-33.43 153.42z"},child:[]}]})(t)}function ye(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function L(t){return m({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function Xe(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function et(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(t)}function ze(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function Ne(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Ce(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function tt(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function rt(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function at(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"},child:[]}]})(t)}function nt(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function st(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function K(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function ot(t){return m({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function lt(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function it(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function Se(t){return m({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Me(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function U(t){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function ct(t){return m({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(t)}function dt(t){return m({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(t)}const ht=()=>{const[t,r]=o.useState(!1),{loading:a}=P(),{loading:n}=_();return o.useEffect(()=>{if(!a&&!n){const s=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(s)}},[a,n]),e.jsx("div",{className:`fixed inset-0 z-[100] flex items-center justify-center bg-zen-sand dark:bg-zen-night transition-opacity duration-1000 ${t?"opacity-0":"opacity-100"}`,style:{pointerEvents:t?"none":"auto"},children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative flex justify-center items-center mb-8",children:[e.jsx("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-zen-green/30 to-zen-green/50 animate-pulse"}),e.jsx(L,{className:"w-16 h-16 text-white absolute"})]}),e.jsx("h1",{className:"text-3xl font-bold text-zen-charcoal dark:text-zen-sand tracking-wider",children:"Entering the Garden"}),e.jsx("p",{className:"text-zen-charcoal/70 dark:text-zen-sand/70 mt-2",children:"Preparing your sanctuary..."})]})})};function ut(){const[t,r]=o.useState(""),[a,n]=o.useState(""),[s,l]=o.useState(""),[d,h]=o.useState(!1),i=ue(),{login:x}=P(),g=async c=>{c.preventDefault(),l(""),h(!0);const u=await x(t,a);u.success?i("/"):l(u.error),h(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-lg p-4 sm:p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(L,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Welcome to Zentro"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Your zen productivity companion"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[s&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),s]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your username",value:t,onChange:c=>r(c.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",value:a,onChange:c=>n(c.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[d?e.jsx(K,{className:"animate-spin h-5 w-5 mr-2"}):null,"Enter the Garden"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(I,{to:"/register",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"New to the Garden? Cultivate Your Path"})})]})]})]})}function mt(){const[t,r]=o.useState(""),[a,n]=o.useState(""),[s,l]=o.useState(""),[d,h]=o.useState(""),[i,x]=o.useState(!1),g=ue(),{register:c}=P(),u=async f=>{if(f.preventDefault(),h(""),a!==s){h("Passwords do not match");return}if(a.length<6){h("Password must be at least 6 characters long");return}x(!0);const v=await c(t,a);v.success?g("/"):h(v.error),x(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-lg p-4 sm:p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(L,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Cultivate Your Path"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Begin your journey to mindful productivity"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[d&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Choose your username",value:t,onChange:f=>r(f.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Create your password",value:a,onChange:f=>n(f.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password",value:s,onChange:f=>l(f.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[i?e.jsx(K,{className:"animate-spin h-5 w-5 mr-2"}):null,"Cultivate Your Path"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(I,{to:"/login",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"Already in the Garden? Enter"})})]})]})]})}const le=({isMobile:t,onLinkClick:r})=>{const{logout:a}=P(),n=[{to:"/pomodoro",icon:J,label:"Zen Focus"},{to:"/tasks",icon:it,label:"Cultivations"},{to:"/report",icon:We,label:"Growth Journal"},{to:"/settings",icon:ke,label:"Arrangements"}],s=()=>{r&&r(),a()},l="flex items-center space-x-4 p-3.5 rounded-xl text-lg font-medium transition-all duration-200",d="text-zen-charcoal/70 dark:text-zen-sand/60 hover:bg-black/5 dark:hover:bg-white/10 hover:text-zen-charcoal dark:hover:text-zen-sand",h="bg-gradient-to-r from-zen-green/80 to-zen-green text-white shadow-lg shadow-zen-green/30";return e.jsxs("aside",{className:`flex-col p-4 transition-all duration-300 bg-white/50 dark:bg-zen-night/60 backdrop-blur-xl border-r border-white/20 dark:border-zen-night-light/10 ${t?"w-full h-full flex":"w-64 hidden md:flex"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 mb-4",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-zen-green to-zen-green-dark rounded-xl shadow-lg",children:e.jsx(L,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-zen-charcoal to-zen-green bg-clip-text text-transparent dark:from-zen-sand dark:to-zen-green",children:"Zen Garden"}),e.jsx("span",{className:"text-xs text-zen-charcoal/50 dark:text-zen-sand/50",children:"v1.00"})]})]}),e.jsx("nav",{className:"flex-1 space-y-3",children:n.map(({to:i,icon:x,label:g})=>e.jsxs(Fe,{to:i,onClick:r,className:({isActive:c})=>`${l} ${c?h:d}`,children:[e.jsx(x,{className:"w-6 h-6"}),e.jsx("span",{children:g})]},i))}),e.jsx("div",{className:"pt-4 mt-4 border-t border-black/5 dark:border-white/10",children:e.jsxs("button",{onClick:s,className:`${l} w-full text-zen-charcoal/70 dark:text-zen-sand/60 hover:bg-red-500/10 hover:text-red-500 dark:hover:bg-red-500/10 dark:hover:text-red-400`,children:[e.jsx(st,{className:"w-6 h-6"}),e.jsx("span",{children:"Leave Garden"})]})})]})},xt=t=>{const r=new Date().getHours(),a=t||"friend";return r<12?`Good morning, ${a}`:r<18?`Good afternoon, ${a}`:`Good evening, ${a}`},ft=({onMenuClick:t})=>{const{user:r}=P(),{theme:a,toggleTheme:n}=pe(),s=xt(r==null?void 0:r.username);return e.jsxs("header",{className:"flex items-center justify-between p-4 sm:p-6 sticky top-0 z-30 bg-white/50 dark:bg-zen-night/60 backdrop-blur-xl border-b border-white/20 dark:border-zen-night-light/10",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:t,className:"p-2.5 rounded-full text-zen-charcoal/70 dark:text-zen-sand/70 hover:bg-black/10 dark:hover:bg-white/10 transition-colors md:hidden",children:e.jsx(_e,{className:"w-5 h-5"})}),e.jsxs("h1",{className:"text-xl md:text-2xl font-light text-zen-charcoal dark:text-zen-sand tracking-wide",children:[e.jsx("span",{className:"md:hidden",children:s.split(", ")[0]}),e.jsxs("span",{className:"hidden md:inline",children:[s," 🌱"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:e.jsx("button",{onClick:n,className:"p-3 rounded-full text-zen-charcoal/70 dark:text-zen-sand/70 hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:a==="light"?e.jsx(Xe,{className:"w-5 h-5"}):e.jsx(lt,{className:"w-5 h-5"})})})]})};function ie(){const{timeLeft:t,setTimeLeft:r,isRunning:a,setIsRunning:n,isBreak:s,setIsBreak:l,selectedTask:d,setSelectedTask:h,focusDuration:i,breakDuration:x,formatTime:g,unlockAudio:c,onPomodoroEnd:u}=Z(),{tasks:f}=_();o.useEffect(()=>{const b=f.filter(R=>!R.completed);b.length>0&&!d&&h(b[0]._id)},[f,d,h]);const v=()=>{if(!d&&!s){alert("Please plant a seed (select a task) to begin cultivation.");return}c(),n(!a)},j=()=>{if(a&&!s){const b=i*60-t;u("interrupted",b)}n(!1),r(s?x*60:i*60)},C=()=>{if(!a){if(!s&&t<i*60){const b=i*60-t;u("interrupted",b)}l(b=>!b),n(!1)}},S=s?(x*60-t)/(x*60)*100:(i*60-t)/(i*60)*100;return e.jsx("div",{className:"bg-zen-sand/50 dark:bg-zen-night/30 backdrop-blur-3xl rounded-[56px] shadow-2xl p-6 sm:p-10 border border-white/60 dark:border-zen-night-light/20",children:e.jsxs("div",{className:"flex flex-col items-center space-y-8",children:[e.jsxs("div",{className:"relative w-64 h-64 sm:w-80 sm:h-80",children:[e.jsx("div",{className:"absolute inset-0 border-[20px] border-black/5 dark:border-white/5 rounded-full shadow-inner"}),e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[e.jsx("circle",{className:"text-black/10 dark:text-white/10",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),e.jsx("circle",{className:`${s?"text-zen-sky":"text-zen-green"}`,strokeWidth:"10",strokeDasharray:2*Math.PI*45,strokeDashoffset:2*Math.PI*45*(1-S/100),strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50",transform:"rotate(-90 50 50)",style:{transition:"stroke-dashoffset 0.5s linear"}})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("span",{className:"text-5xl sm:text-7xl font-thin text-zen-charcoal dark:text-zen-sand tracking-widest",children:g(t)}),e.jsx("span",{className:"text-lg font-medium text-zen-charcoal/70 dark:text-zen-sand/70 mt-3 tracking-wider",children:s?"Resting":"Focusing"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("button",{onClick:j,title:"Reset Cycle",className:"w-20 h-20 rounded-full bg-zen-sand/60 dark:bg-zen-night/50 text-zen-charcoal/70 dark:text-zen-sand/70 flex items-center justify-center shadow-lg transform transition-all duration-300 hover:scale-105 hover:bg-zen-sand/80 dark:hover:bg-zen-night/70 backdrop-blur-sm disabled:opacity-50",children:e.jsx(tt,{className:"w-6 h-6"})}),e.jsx("button",{onClick:v,className:`w-28 h-28 rounded-full text-white font-bold flex items-center justify-center shadow-2xl transform transition-all duration-300 hover:scale-105 ${a?"bg-gradient-to-br from-zen-orange to-red-500":s?"bg-gradient-to-br from-zen-sky to-blue-500":"bg-gradient-to-br from-zen-green to-teal-500"}`,children:a?e.jsx(ze,{className:"w-10 h-10 text-white"}):e.jsx(Ne,{className:"w-10 h-10 ml-2 text-white"})}),e.jsx("button",{onClick:C,disabled:a,title:"Switch Mode",className:"w-20 h-20 rounded-full bg-zen-sand/60 dark:bg-zen-night/50 text-zen-charcoal/70 dark:text-zen-sand/70 flex items-center justify-center shadow-lg transform transition-all duration-300 hover:scale-105 hover:bg-zen-sand/80 dark:hover:bg-zen-night/70 backdrop-blur-sm disabled:opacity-50",children:e.jsx(at,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"w-full max-w-xs pt-4",children:[e.jsx("select",{id:"selectTask",value:d,onChange:b=>h(b.target.value),disabled:a&&!s,className:"block w-full p-3.5 border border-black/10 dark:border-white/10 rounded-2xl shadow-inner focus:ring-2 focus:ring-zen-green dark:focus:ring-zen-green appearance-none bg-white/5 dark:bg-black/20 backdrop-blur-md pr-10 transition-all duration-300 ease-in-out text-center font-medium text-zen-charcoal dark:text-zen-sand disabled:opacity-60",children:f.filter(b=>!b.completed).length===0?e.jsx("option",{value:"",disabled:!0,children:"Plant a seed in your task list"}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"",disabled:!0,children:"Select a seed to cultivate"}),f.filter(b=>!b.completed).map(b=>e.jsx("option",{value:b._id,children:b.title},b._id))]})}),f.filter(b=>!b.completed).length===0&&e.jsx("p",{className:"mt-4 text-sm text-center text-zen-charcoal/80 dark:text-zen-sand/80",children:e.jsx(I,{to:"/tasks",className:"hover:text-zen-green dark:hover:text-zen-green-dark underline flex items-center justify-center space-x-1.5",children:e.jsx("span",{children:"Go to Task Garden"})})})]})]})})}function gt(){const{tasks:t,addTask:r,deleteTask:a,toggleTask:n,loading:s}=_(),[l,d]=o.useState(""),[h,i]=o.useState("all"),x=t.filter(c=>h==="active"?!c.completed:h==="completed"?c.completed:!0),g=c=>{c.preventDefault(),l.trim()&&(r(l.trim()),d(""))};return e.jsxs("div",{className:"bg-white/50 dark:bg-black/25 backdrop-blur-3xl rounded-[48px] shadow-2xl p-6 sm:p-10 border border-white/60 dark:border-black/30",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-thin text-zen-charcoal dark:text-zen-sand tracking-wider mb-4 sm:mb-0",children:"Task Garden"}),e.jsx("div",{className:"flex space-x-2 bg-white/40 dark:bg-black/20 p-1.5 rounded-full shadow-inner",children:[{type:"all",label:"All"},{type:"active",label:"Growing"},{type:"completed",label:"Harvested"}].map(({type:c,label:u})=>e.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 ${h===c?"bg-white dark:bg-black/30 shadow-md text-zen-charcoal dark:text-zen-sand":"text-zen-charcoal/60 dark:text-zen-sand/60 hover:bg-white/70 dark:hover:bg-black/25"}`,children:u},c))})]}),e.jsxs("form",{onSubmit:g,className:"flex gap-4 mb-8",children:[e.jsx("input",{type:"text",value:l,onChange:c=>d(c.target.value),placeholder:"Plant a new seed of intention...",className:"flex-1 px-6 py-3.5 rounded-full border border-white/60 dark:border-black/30 bg-white/50 dark:bg-black/20 focus:ring-2 focus:ring-zen-green dark:focus:ring-zen-green-dark shadow-inner transition-all duration-300 ease-in-out text-zen-charcoal dark:text-zen-sand placeholder-zen-charcoal/50 dark:placeholder-zen-sand/50"}),e.jsxs("button",{type:"submit",className:"px-6 py-3.5 bg-gradient-to-br from-zen-green to-zen-green-dark text-white rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out flex items-center justify-center space-x-2",children:[e.jsx(Ce,{}),e.jsx("span",{className:"hidden sm:inline",children:"Plant"})]})]}),e.jsx("div",{className:"space-y-4 min-h-[300px]",children:s?e.jsx("div",{className:"flex items-center justify-center h-full pt-12",children:e.jsx(K,{className:"w-10 h-10 animate-spin text-zen-green dark:text-zen-green-dark"})}):x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-white/30 dark:bg-black/10 rounded-full flex items-center justify-center mx-auto mb-5",children:e.jsx(L,{className:"w-10 h-10 text-zen-charcoal/30 dark:text-zen-sand/30"})}),e.jsx("p",{className:"text-zen-charcoal/70 dark:text-zen-sand/70 text-lg font-light tracking-wider",children:h==="all"?"Your garden is empty.":h==="active"?"No seeds are growing.":"No seeds harvested yet."})]}):x.map(c=>e.jsxs("div",{className:"group flex items-center justify-between p-4 bg-white/50 dark:bg-black/25 rounded-2xl shadow-md hover:shadow-lg border border-white/60 dark:border-black/30 transition-all duration-300 transform hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>n(c._id),className:`w-7 h-7 rounded-full border-2 flex-shrink-0 flex items-center justify-center transition-all duration-300 ${c.completed?"bg-zen-green border-zen-green text-white":"border-zen-charcoal/40 dark:border-zen-sand/40 hover:border-zen-green dark:hover:border-zen-green-dark"}`,children:c.completed&&e.jsx(je,{className:"w-4 h-4"})}),e.jsx("span",{className:`font-medium tracking-wide ${c.completed?"line-through text-zen-charcoal/50 dark:text-zen-sand/50":"text-zen-charcoal dark:text-zen-sand"}`,children:c.title})]}),e.jsx("button",{onClick:()=>a(c._id),className:"p-2.5 text-zen-charcoal/40 dark:text-zen-sand/40 hover:text-red-500 dark:hover:text-red-400 opacity-0 group-hover:opacity-100 rounded-full hover:bg-red-500/10 dark:hover:bg-red-400/10 transition-all duration-300",children:e.jsx(Me,{className:"w-5 h-5"})})]},c._id))})]})}function pt(){const{user:t,updateUser:r}=P(),[a,n]=o.useState([]),[s,l]=o.useState([]),[d,h]=o.useState(""),[i,x]=o.useState(""),[g,c]=o.useState(""),[u,f]=o.useState(!1),[v,j]=o.useState(25),[C,S]=o.useState(5);o.useEffect(()=>{var p,k;t&&(n(t.rewards||[]),l(t.punishments||[]),j(((p=t.settings)==null?void 0:p.pomodoroDuration)||25),S(((k=t.settings)==null?void 0:k.breakDuration)||5))},[t]);const b=async()=>{if(!u){f(!0),c("");try{const p=localStorage.getItem("token"),k=await fetch("/api/users/settings",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({settings:{pomodoroDuration:v,breakDuration:C}})});if(!k.ok)throw new Error("Failed to update settings");const y=await k.json();r(y),c("Rhythm adjusted successfully!")}catch(p){c(p.message||"Error updating settings.")}finally{f(!1),setTimeout(()=>c(""),3e3)}}},R=async(p,k)=>{if(!u){f(!0),c("");try{const y=localStorage.getItem("token"),z=await fetch(`/api/users/${p}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({[p]:k})});if(!z.ok)throw new Error(`Failed to update ${p}`);const N=await z.json();r(N),c(`${p.charAt(0).toUpperCase()+p.slice(1)} list cultivated successfully!`)}catch(y){c(y.message||`Error updating ${p}.`)}finally{f(!1),setTimeout(()=>c(""),3e3)}}},A=p=>{const k=p==="rewards"?a:s,y=p==="rewards"?d:i,z=p==="rewards"?n:l,N=p==="rewards"?h:x;if(y.trim()){const B=[...k,y.trim()];z(B),N(""),R(p,B)}},O=(p,k)=>{const y=p==="rewards"?a:s,z=p==="rewards"?n:l,N=y.filter((B,H)=>H!==k);z(N),R(p,N)};return e.jsxs("div",{className:"space-y-10",children:[e.jsx("h2",{className:"text-4xl font-thin text-zen-charcoal dark:text-zen-sand tracking-wider text-center",children:"Garden Arrangements"}),g&&e.jsx("div",{className:`p-4 rounded-xl text-sm font-semibold text-center my-4 transition-opacity duration-300 ${g.includes("Error")?"bg-red-500/10 text-red-500":"bg-zen-green/10 text-zen-green-dark"}`,children:g}),e.jsxs(Y,{icon:J,title:"Flow & Rest Rhythm",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx(ce,{label:"Focus (minutes)",value:v,onChange:j,min:1,max:90}),e.jsx(ce,{label:"Rest (minutes)",value:C,onChange:S,min:1,max:30})]}),e.jsx(bt,{onClick:b,isSaving:u,text:"Save Rhythm"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[e.jsx(Y,{icon:ye,title:"Seeds of Joy (Rewards)",iconColor:"text-green-500",children:e.jsx(de,{type:"rewards",list:a,newItem:d,setNewItem:h,addItem:A,removeItem:O,placeholder:"e.g., 5-min meditation"})}),e.jsx(Y,{icon:Ke,title:"Weeds of Distraction (Punishments)",iconColor:"text-red-500",children:e.jsx(de,{type:"punishments",list:s,newItem:i,setNewItem:x,addItem:A,removeItem:O,placeholder:"e.g., 1-min plank"})})]})]})}const Y=({icon:t,title:r,iconColor:a,children:n})=>e.jsxs("div",{className:"bg-white/50 dark:bg-black/25 backdrop-blur-3xl rounded-[36px] shadow-xl p-6 sm:p-8 border border-white/60 dark:border-black/30 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx(t,{className:`w-7 h-7 ${a||"text-zen-green"}`}),e.jsx("h3",{className:"text-xl font-semibold text-zen-charcoal dark:text-zen-sand tracking-wide",children:r})]}),e.jsx("div",{className:"space-y-5 flex-grow",children:n})]}),ce=({label:t,value:r,onChange:a,min:n,max:s})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-zen-charcoal/80 dark:text-zen-sand/80 mb-2.5 tracking-wider",children:t}),e.jsx("input",{type:"number",value:r,onChange:l=>a(Math.max(n,Math.min(s,parseInt(l.target.value)||0))),min:n,max:s,className:"w-full px-5 py-3.5 rounded-full border border-white/60 dark:border-black/30 bg-white/50 dark:bg-black/20 focus:ring-2 focus:ring-zen-green dark:focus:ring-zen-green-dark shadow-inner transition-all duration-300 ease-in-out text-zen-charcoal dark:text-zen-sand"})]}),de=({type:t,list:r,newItem:a,setNewItem:n,addItem:s,removeItem:l,placeholder:d})=>e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:a,onChange:h=>n(h.target.value),placeholder:d,className:"flex-1 px-5 py-3.5 rounded-full border border-white/60 dark:border-black/30 bg-white/50 dark:bg-black/20 focus:ring-2 focus:ring-zen-green dark:focus:ring-zen-green-dark shadow-inner transition-all duration-300 ease-in-out text-zen-charcoal dark:text-zen-sand placeholder-zen-charcoal/50 dark:placeholder-zen-sand/50"}),e.jsx("button",{onClick:()=>s(t),className:"p-4 bg-gradient-to-br from-zen-green to-zen-green-dark text-white rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center",children:e.jsx(Ce,{})})]}),e.jsxs("ul",{className:"space-y-2.5 pt-4 flex-grow overflow-y-auto max-h-48 custom-scrollbar",children:[r.map((h,i)=>e.jsxs("li",{className:"group flex justify-between items-center bg-white/40 dark:bg-black/20 p-3 rounded-lg transition-all duration-300 border border-white/50 dark:border-black/30",children:[e.jsx("span",{className:"text-zen-charcoal dark:text-zen-sand font-medium",children:h}),e.jsx("button",{onClick:()=>l(t,i),className:"p-2 text-zen-charcoal/40 dark:text-zen-sand/40 hover:text-red-500 opacity-0 group-hover:opacity-100 rounded-full hover:bg-red-500/10 transition-all duration-300",children:e.jsx(Me,{})})]},i)),r.length===0&&e.jsx("p",{className:"text-center text-sm text-zen-charcoal/50 dark:text-zen-sand/50 pt-4",children:"Your list is empty."})]})]}),bt=({onClick:t,isSaving:r,text:a})=>e.jsxs("button",{onClick:t,disabled:r,className:"w-full mt-5 bg-gradient-to-br from-zen-green to-zen-green-dark text-white font-semibold py-3.5 px-4 rounded-full transition-all duration-300 ease-in-out shadow-lg disabled:opacity-70 flex items-center justify-center space-x-2 transform hover:scale-105",children:[r?e.jsx(ke,{className:"w-5 h-5 animate-spin"}):e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:r?"Saving...":a})]});function vt(){const{user:t,updateUser:r}=P(),{reportRefreshKey:a}=Z(),[n,s]=o.useState({week:0,month:0,streak:0,dailyGoal:120,todayFocusTime:0}),l=o.useCallback(async()=>{var v;try{const j=localStorage.getItem("token");if(!j)return;const C=await fetch("/api/users/pomodoro-stats",{headers:{Authorization:`Bearer ${j}`}});if(C.ok){const S=await C.json();s({week:S.weekly||0,month:S.monthly||0,streak:S.currentStreak||0,dailyGoal:((v=t==null?void 0:t.settings)==null?void 0:v.dailyGoal)||120,todayFocusTime:S.todayFocusTime||0})}else console.error("Failed to fetch stats:",C.statusText)}catch(j){console.error("Error fetching stats:",j)}},[t]);o.useEffect(()=>{l()},[t,a,l]);const d=new Date,h=d.getDay(),i=d.getDate(),x=n.week>0?Math.round(n.week/(h+1)):0,g=n.month>0?Math.round(n.month/i):0,c=[{title:"Today's Flow",value:`${n.todayFocusTime} min`,icon:J,color:"text-zen-sky-dark dark:text-zen-sky-light"},{title:"This Week",value:`${n.week} min`,subtitle:`Avg: ${x} min/day`,icon:qe,color:"text-zen-green-dark dark:text-zen-green"},{title:"This Month",value:`${n.month} min`,subtitle:`Avg: ${g} min/day`,icon:Ye,color:"text-zen-sun dark:text-yellow-300"},{title:"Focus Streak",value:`${n.streak} days`,icon:Qe,color:"text-orange-500 dark:text-orange-400"}],u=c.find(v=>v.title==="Focus Streak"),f=c.filter(v=>v.title!=="Focus Streak");return e.jsxs("div",{className:"space-y-10",children:[e.jsx("h2",{className:"text-4xl font-thin text-zen-charcoal dark:text-zen-sand tracking-wider text-center",children:"Growth Journal"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(wt,{stats:n,updateUser:r}),u&&e.jsx(he,{...u})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map((v,j)=>e.jsx(he,{...v},j))})]})}const wt=({stats:t,updateUser:r})=>{const[a,n]=o.useState(!1),[s,l]=o.useState(t.dailyGoal);o.useEffect(()=>{l(t.dailyGoal)},[t.dailyGoal]);const d=async()=>{try{const i=localStorage.getItem("token"),x=await fetch("/api/users/settings",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({settings:{dailyGoal:s}})});if(!x.ok)throw new Error("Failed to update goal");const g=await x.json();r(g),n(!1)}catch(i){console.error("Error updating daily goal:",i)}},h=Math.min(100,Math.floor(t.todayFocusTime/(t.dailyGoal||1)*100));return e.jsx("div",{className:"bg-white/50 dark:bg-black/25 backdrop-blur-3xl rounded-[36px] shadow-xl p-6 sm:p-8 border border-white/60 dark:border-black/30 h-full flex flex-col justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ue,{className:"w-7 h-7 text-zen-green-dark"}),e.jsx("h3",{className:"text-xl font-semibold text-zen-charcoal dark:text-zen-sand",children:"Daily Cultivation Goal"})]}),!a&&e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 text-sm font-medium text-zen-charcoal/70 dark:text-zen-sand/70 hover:text-zen-green-dark dark:hover:text-zen-green transition-colors",children:[e.jsx(Je,{}),e.jsx("span",{children:"Edit"})]})]}),a?e.jsxs("div",{className:"flex items-center gap-4 py-2",children:[e.jsx("input",{type:"number",value:s,onChange:i=>l(Number(i.target.value)),className:"w-full px-5 py-3 rounded-full border border-white/60 dark:border-black/30 bg-white/50 dark:bg-black/20 focus:ring-2 focus:ring-zen-green dark:focus:ring-zen-green-dark shadow-inner transition-all duration-300 ease-in-out text-zen-charcoal dark:text-zen-sand"}),e.jsx("button",{onClick:d,className:"p-3.5 bg-gradient-to-br from-zen-green to-zen-green-dark text-white rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition-all",children:e.jsx(rt,{})}),e.jsx("button",{onClick:()=>n(!1),className:"p-3.5 bg-white/70 dark:bg-black/30 text-zen-charcoal/80 dark:text-zen-sand/80 rounded-full hover:bg-white dark:hover:bg-black/40 transition-colors",children:e.jsx(Se,{})})]}):e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex justify-between items-baseline font-semibold text-zen-charcoal dark:text-zen-sand",children:[e.jsxs("span",{className:"text-2xl",children:[t.todayFocusTime,e.jsx("span",{className:"text-base ml-1",children:"min"})]}),e.jsxs("span",{className:"text-base text-zen-charcoal/60 dark:text-zen-sand/60",children:["/ ",t.dailyGoal," min"]})]}),e.jsx(jt,{progress:h}),e.jsxs("p",{className:"text-center text-sm text-zen-charcoal/70 dark:text-zen-sand/70 font-medium",children:["You've completed ",h,"% of your daily cultivation."]})]})]})})},he=({title:t,value:r,subtitle:a,icon:n,color:s})=>e.jsxs("div",{className:"bg-white/50 dark:bg-black/25 backdrop-blur-3xl rounded-3xl shadow-lg hover:shadow-2xl p-6 border border-white/60 dark:border-black/30 flex flex-col justify-between transform transition-all hover:scale-105 min-h-[190px]",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("p",{className:"text-base font-semibold text-zen-charcoal/80 dark:text-zen-sand/80",children:t}),e.jsx(n,{className:`w-7 h-7 ${s} opacity-80`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold text-zen-charcoal dark:text-zen-sand",children:r}),a&&e.jsx("p",{className:"text-sm font-medium text-zen-charcoal/60 dark:text-zen-sand/60 mt-1",children:a})]})]}),jt=({progress:t})=>e.jsx("div",{className:"w-full bg-white/40 dark:bg-black/20 rounded-full h-4 shadow-inner border border-white/50 dark:border-black/25",children:e.jsx("div",{className:"bg-gradient-to-r from-zen-green to-zen-sky-light h-full rounded-full transition-all duration-700 ease-out",style:{width:`${t}%`}})}),q=[{name:"Chillhop",url:"https://streams.fluxfm.de/Chillhop/mp3-128/streams.fluxfm.de/"},{name:"New Hits",url:"https://server.mixify.in/listen/new_hits/radio.mp3"},{name:"ReyFM Lofi",url:"https://listen.reyfm.de/lofi_320kbps.mp3"},{name:"Digital Malayali",url:"https://radio.digitalmalayali.in/listen/stream/radio.mp3"}];function kt(){const[t,r]=o.useState(!1),[a,n]=o.useState(!1),[s,l]=o.useState(.5),[d,h]=o.useState(q[0]),i=o.useRef(null);o.useEffect(()=>{a?(i.current.src=d.url,i.current.play().catch(u=>console.error("Audio play error:",u))):i.current.pause()},[a,d]),o.useEffect(()=>{i.current&&(i.current.volume=s)},[s]);const x=()=>{n(!a)},g=u=>{l(parseFloat(u.target.value))},c=u=>{const f=q.find(v=>v.url===u.target.value);h(f),a||(i.current.src=f.url)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(!t),className:"fixed bottom-6 right-6 z-50 w-16 h-16 rounded-full bg-gradient-to-br from-zen-green to-zen-green-dark text-white shadow-2xl flex items-center justify-center transform transition-transform hover:scale-110",children:e.jsx(et,{className:"w-6 h-6"})}),e.jsx("div",{className:`fixed bottom-24 right-6 z-50 transition-all duration-500 ease-in-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-white/50 dark:bg-black/25 backdrop-blur-3xl rounded-3xl shadow-2xl p-6 border border-white/60 dark:border-black/30 w-72",children:[e.jsx("h4",{className:"text-lg font-semibold text-zen-charcoal dark:text-zen-sand mb-4 text-center",children:"Music Player"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:x,className:"p-4 rounded-full bg-white/70 dark:bg-black/30 text-zen-charcoal dark:text-zen-sand transform transition-transform hover:scale-110",children:a?e.jsx(ze,{className:"w-5 h-5"}):e.jsx(Ne,{className:"w-5 h-5"})}),e.jsx("select",{value:d.url,onChange:c,className:"flex-1 px-4 py-2.5 rounded-full border border-white/60 dark:border-black/30 bg-white/50 dark:bg-black/20 focus:ring-2 focus:ring-zen-green-dark appearance-none text-center font-medium text-zen-charcoal dark:text-zen-sand",children:q.map(u=>e.jsx("option",{value:u.url,children:u.name},u.name))})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-5",children:[e.jsx(ct,{className:"text-zen-charcoal/70 dark:text-zen-sand/70"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:s,onChange:g,className:"w-full h-1.5 bg-white/60 dark:bg-black/30 rounded-full appearance-none cursor-pointer accent-zen-green-dark"}),e.jsx(dt,{className:"text-zen-charcoal/70 dark:text-zen-sand/70"})]})]})}),e.jsx("audio",{ref:i,crossOrigin:"anonymous"})]})}function yt({show:t,onClose:r,reward:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-primary-light/50",children:[e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent text-center mb-6 animate-fade-in-down",children:"Inner Peace Blossoms! 🎉"}),e.jsx("p",{className:"text-lg text-text-light text-center mb-6",children:"Your harvest:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-primary-dark dark:text-primary-light bg-primary-light/50 dark:bg-primary-dark/30 backdrop-blur-sm px-4 py-3 rounded-lg border border-primary-light/30 dark:border-primary-dark/50 mb-8 break-words shadow-lg",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-primary-light shadow-xl",children:"Cherish"})]})}):null}function zt({show:t,onClose:r,punishment:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-danger-light/50",children:[e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-danger to-danger-dark bg-clip-text text-transparent text-center mb-6 animate-fade-in-down",children:"A Pebble in Your Path 😅"}),e.jsx("p",{className:"text-lg text-text-light text-center mb-6",children:"Time for mindful reflection:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-danger-dark dark:text-danger-light bg-danger-light/50 dark:bg-danger-dark/30 backdrop-blur-sm px-4 py-3 rounded-lg border border-danger-light/30 dark:border-danger-dark/50 mb-8 break-words shadow-lg",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-danger to-danger-dark hover:from-danger-dark hover:to-danger text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-danger-light shadow-xl",children:"Embrace Growth"})]})}):null}const Nt=()=>e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full z-[-1] overflow-hidden bg-gradient-to-br from-zen-beige via-zen-sand to-zen-sky-light dark:from-zen-night-dark dark:via-zen-night-mid dark:to-zen-night-light",children:[e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-zen-earth dark:from-zen-night-deep to-transparent opacity-80"}),e.jsx("div",{className:"absolute w-64 h-64 bg-zen-sun rounded-full -top-16 -right-16 opacity-30 dark:opacity-20 dark:bg-zen-moon"}),e.jsx("div",{className:"absolute w-96 h-96 bg-zen-sun rounded-full -bottom-32 -left-32 opacity-20 dark:opacity-10 dark:bg-zen-moon"})]});function Ct(){const[t,r]=o.useState(!1),{showRewardModal:a,closeRewardModal:n,currentReward:s,showPunishmentModal:l,closePunishmentModal:d,currentPunishment:h}=Z(),i=()=>{r(g=>!g)},x=()=>{t&&r(!1)};return e.jsxs("div",{className:"flex h-screen text-zen-charcoal dark:text-zen-sand font-sans relative overflow-hidden bg-white dark:bg-zen-night",children:[e.jsx(Nt,{}),e.jsx(le,{isMobile:!1,onLinkClick:x}),e.jsxs("div",{className:`fixed inset-0 z-50 flex md:hidden transition-transform duration-300 ease-in-out ${t?"translate-x-0":"-translate-x-full"}`,children:[e.jsx("div",{className:"w-64 bg-white/80 dark:bg-zen-night-dark/90 backdrop-blur-lg shadow-2xl border-r border-white/20 dark:border-zen-night-light/20",children:e.jsx(le,{isMobile:!0,onLinkClick:x})}),e.jsx("div",{className:"flex-1 bg-black/60",onClick:i,children:e.jsx("button",{className:"p-4 text-white",children:e.jsx(Se,{className:"h-6 w-6"})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ft,{onMenuClick:i}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 md:p-8 lg:p-10 z-10",children:e.jsx("div",{className:"mx-auto max-w-4xl",children:e.jsxs(me,{children:[e.jsx(F,{path:"/",element:e.jsx(ie,{})}),e.jsx(F,{path:"/pomodoro",element:e.jsx(ie,{})}),e.jsx(F,{path:"/tasks",element:e.jsx(gt,{})}),e.jsx(F,{path:"/settings",element:e.jsx(pt,{})}),e.jsx(F,{path:"/report",element:e.jsx(vt,{})})]})})})]}),e.jsx(kt,{}),e.jsx(yt,{show:a,onClose:n,reward:s}),e.jsx(zt,{show:l,onClose:d,punishment:h})]})}const St=()=>e.jsxs("div",{className:"bg-gradient-to-br from-zen-sand-light via-white to-zen-sand-light/70 font-sans",children:[e.jsx(Mt,{}),e.jsxs("main",{children:[e.jsx(Pt,{}),e.jsx(Ft,{}),e.jsx(Et,{}),e.jsx(Rt,{})]}),e.jsx(Bt,{})]}),Mt=()=>e.jsxs("header",{className:"container mx-auto px-6 py-6 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{className:"h-8 w-8 text-zen-green"}),e.jsx("span",{className:"text-2xl font-bold text-zen-charcoal tracking-wider",children:"Zen Garden"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("a",{href:"#features",className:"text-zen-charcoal/80 hover:text-zen-green transition-colors",children:"Features"}),e.jsx("a",{href:"#testimonials",className:"text-zen-charcoal/80 hover:text-zen-green transition-colors",children:"Testimonials"}),e.jsx("a",{href:"#about",className:"text-zen-charcoal/80 hover:text-zen-green transition-colors",children:"About"})]}),e.jsx(I,{to:"/login",className:"px-6 py-2.5 bg-zen-green text-white font-semibold rounded-full shadow-md hover:bg-zen-green-dark transition-all transform hover:scale-105",children:"Enter Garden"})]}),Pt=()=>e.jsx("section",{className:"py-20 text-center",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsx(L,{className:"mx-auto h-24 w-24 text-zen-green mb-6 animate-pulse"}),e.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-zen-charcoal mb-4",children:"Cultivate Your Focus, Blossom into Your Best Self."}),e.jsx("p",{className:"text-xl text-zen-charcoal/70 leading-relaxed max-w-3xl mx-auto mb-10",children:"Welcome to your personal sanctuary for productivity. Here, every task is a seed, every focus session is sunlight, and every goal achieved is a beautiful bloom."}),e.jsxs(I,{to:"/register",className:"px-10 py-5 bg-gradient-to-r from-zen-green to-teal-500 text-white font-bold rounded-full shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-lg flex items-center justify-center space-x-3 mx-auto w-fit",children:[e.jsx(L,{className:"h-6 w-6"}),e.jsx("span",{children:"Plant Your First Seed & Start Growing"})]})]})}),Tt=[{title:"The Pomodoro Technique, Reimagined",description:"Our timer helps you work in focused bursts, with mindful breaks. It's not just about time; it's about quality and intention.",icon:nt},{title:"Gamified Task Management",description:"Turn your to-do list into a garden. 'Plant' your tasks, 'nurture' them with focus, and 'harvest' your accomplishments.",icon:Ze},{title:"Mindful Rewards & Gentle Discipline",description:"Stay motivated with a system of rewards for consistency and gentle reminders for when you get sidetracked.",icon:ye}],Ft=()=>e.jsx("section",{id:"features",className:"py-24 bg-white/60 backdrop-blur-md",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-zen-charcoal",children:"A Garden of Features to Help You Flourish"}),e.jsx("p",{className:"text-lg text-zen-charcoal/60 mt-4",children:"Tools designed for tranquility and peak performance."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-12",children:Tt.map((t,r)=>e.jsxs("div",{className:"text-center p-8 bg-white rounded-3xl shadow-lg border border-gray-200/50 hover:shadow-xl transition-shadow transform hover:-translate-y-2 duration-300",children:[e.jsx("div",{className:"p-5 rounded-full bg-zen-green/10 mb-6 inline-block",children:e.jsx(t.icon,{className:"h-10 w-10 text-zen-green-dark"})}),e.jsx("h3",{className:"text-2xl font-bold text-zen-charcoal mb-4",children:t.title}),e.jsx("p",{className:"text-zen-charcoal/70",children:t.description})]},r))})]})}),Lt=[{name:"Alex, Software Developer",quote:"Zen Garden has transformed my workday. The focus cycles keep me on track, and the garden theme is surprisingly motivating. I'm getting more done and feeling less stressed.",avatar:U},{name:"Priya, Student",quote:"As a student juggling multiple subjects, this app is a lifesaver. It makes studying feel less like a chore and more like a game. My grades have actually improved!",avatar:U},{name:"David, Freelance Writer",quote:"The rewards and punishments system is genius. It provides that little extra push I need to stay disciplined. I finally feel in control of my deadlines.",avatar:U}],Et=()=>e.jsx("section",{id:"testimonials",className:"py-24",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-zen-charcoal",children:"Stories of Growth from Our Gardeners"}),e.jsx("p",{className:"text-lg text-zen-charcoal/60 mt-4",children:"See what others have cultivated with Zen Garden."})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Lt.map((t,r)=>e.jsxs("div",{className:"bg-white/70 backdrop-blur-lg p-8 rounded-3xl shadow-lg border border-gray-200/50 flex flex-col items-center text-center",children:[e.jsx(t.avatar,{className:"h-16 w-16 text-zen-green mb-5"}),e.jsx("div",{className:"text-yellow-500 flex space-x-1 mb-5",children:[...Array(5)].map((a,n)=>e.jsx(ot,{},n))}),e.jsxs("p",{className:"text-zen-charcoal/80 mb-6 font-serif italic",children:['"',t.quote,'"']}),e.jsxs("h4",{className:"font-bold text-zen-charcoal text-lg",children:["- ",t.name]})]},r))})]})}),Rt=()=>e.jsx("section",{className:"py-24 bg-zen-green/10",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-zen-charcoal mb-4",children:"Ready to Plant the Seeds of Success?"}),e.jsx("p",{className:"text-xl text-zen-charcoal/70 mb-10",children:"Your journey to a more focused, productive, and peaceful life begins now."}),e.jsx(I,{to:"/register",className:"px-10 py-5 bg-gradient-to-r from-zen-green to-teal-500 text-white font-bold rounded-full shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 ease-in-out text-lg inline-block",children:"Start Your Free Trial & Cultivate Your Garden"})]})}),Bt=()=>e.jsx("footer",{id:"about",className:"bg-white py-12",children:e.jsxs("div",{className:"container mx-auto px-6 text-center text-zen-charcoal/70",children:[e.jsx("h3",{className:"text-xl font-bold text-zen-charcoal mb-3",children:"From the Gardener's Heart"}),e.jsx("p",{className:"max-w-2xl mx-auto leading-relaxed mb-6 font-serif",children:"Welcome to my digital sanctuary. I'm Dharmraj Sodha, a student with a passion for coding and a belief that technology can be a force for good. I created this app to help you find focus, cultivate discipline, and grow into the best version of yourself. I hope it brings you as much peace as it brought me to create it."}),e.jsxs("div",{className:"flex justify-center space-x-6 mb-8",children:[e.jsx("a",{href:"https://www.linkedin.com/in/dharmraj-sodha/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-zen-green transition-colors",children:"LinkedIn"}),e.jsx("a",{href:"https://s-hadowheart.carrd.co/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-zen-green transition-colors",children:"Portfolio"})]}),e.jsxs("p",{children:["© ",new Date().getFullYear()," Zen Garden. All Rights Reserved."]})]})}),It=()=>{const{theme:t}=pe();return e.jsxs("div",{className:`aurora ${t}`,children:[e.jsx("div",{className:"aurora-blob"}),e.jsx("div",{className:"aurora-blob"}),e.jsx("div",{className:"aurora-blob"}),e.jsx("div",{className:"aurora-blob"})]})};function At({children:t}){const{user:r,loading:a}=P();return a?null:r?t:e.jsx(xe,{to:"/",replace:!0})}function W({children:t}){const{user:r}=P();return r?e.jsx(xe,{to:"/pomodoro",replace:!0}):t}function Ht(){return e.jsx("div",{className:"relative z-10",children:e.jsxs(me,{children:[e.jsx(F,{path:"/login",element:e.jsx(W,{children:e.jsx(ut,{})})}),e.jsx(F,{path:"/register",element:e.jsx(W,{children:e.jsx(mt,{})})}),e.jsx(F,{path:"/",element:e.jsx(W,{children:e.jsx(St,{})})}),e.jsx(F,{path:"/*",element:e.jsx(At,{children:e.jsx(Ct,{})})})]})})}const Ot=()=>e.jsx(Le,{children:e.jsx(Ee,{children:e.jsx(Re,{children:e.jsx(Ie,{children:e.jsxs(Be,{children:[e.jsx(ht,{}),e.jsxs("div",{className:"min-h-screen bg-background text-text font-sans",children:[e.jsx(It,{}),e.jsx(Ht,{})]})]})})})})}),Gt=fe(document.getElementById("root"));Gt.render(e.jsx(Ot,{}));
//# sourceMappingURL=index-07b_9thN.js.map
