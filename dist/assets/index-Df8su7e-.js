import{a as Te,R as I,r as s,u as pe,L as Y,b as Fe,B as Ee,c as Be,d as B,N as T}from"./vendor-Bliau07G.js";import{u as A,j as e,A as Oe}from"./auth-vTn3UCWx.js";import{u as ae,T as Le}from"./tasks-CQeckuFM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var ge,de=Te;{var ce=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;ge=function(t,r){ce.usingClientEntryPoint=!0;try{return de.createRoot(t,r)}finally{ce.usingClientEntryPoint=!1}}}var be={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},me=I.createContext&&I.createContext(be),Ie=["attr","size","title"];function Ae(t,r){if(t==null)return{};var a=De(t,r),l,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)l=o[n],!(r.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(t,l)&&(a[l]=t[l])}return a}function De(t,r){if(t==null)return{};var a={};for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){if(r.indexOf(l)>=0)continue;a[l]=t[l]}return a}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},U.apply(this,arguments)}function ue(t,r){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);r&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,l)}return a}function W(t){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ue(Object(a),!0).forEach(function(l){_e(t,l,a[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(a,l))})}return t}function _e(t,r,a){return r=$e(r),r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function $e(t){var r=Ge(t,"string");return typeof r=="symbol"?r:r+""}function Ge(t,r){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var l=a.call(t,r);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function ve(t){return t&&t.map((r,a)=>I.createElement(r.tag,W({key:a},r.attr),ve(r.child)))}function j(t){return r=>I.createElement(He,U({attr:W({},t.attr)},r),ve(t.child))}function He(t){var r=a=>{var{attr:l,size:n,title:o}=t,u=Ae(t,Ie),i=n||a.size||"1em",p;return a.className&&(p=a.className),t.className&&(p=(p?p+" ":"")+t.className),I.createElement("svg",U({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,l,u,{className:p,style:W(W({color:t.color||a.color},a.style),t.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&I.createElement("title",null,o),t.children)};return me!==void 0?I.createElement(me.Consumer,null,a=>r(a)):r(be)}function Ve(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function he(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function V(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function we(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function $(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function xe(t){return j({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function O(t){return j({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(t)}function X(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function Ue(t){return j({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(t)}function We(t){return j({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function qe(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function ee(t){return j({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function Ye(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function q(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 96H0c0 123.7 100.3 224 224 224v144c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320C288 196.3 187.7 96 64 96zm384-64c-84.2 0-157.4 46.5-195.7 115.2 27.7 30.2 48.2 66.9 59 107.6C424 243.1 512 147.9 512 32h-64z"},child:[]}]})(t)}function Je(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function je(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function te(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Ze(t){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function re(t){return j({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Ke(){const[t,r]=s.useState(""),[a,l]=s.useState(""),[n,o]=s.useState(""),[u,i]=s.useState(!1),p=pe(),{login:g}=A(),m=async v=>{v.preventDefault(),o(""),i(!0);const h=await g(t,a);h.success?p("/"):o(h.error),i(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(O,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Welcome to Zentro"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Your zen productivity companion"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[n&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your username",value:t,onChange:v=>r(v.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",value:a,onChange:v=>l(v.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[u?e.jsx(je,{className:"animate-spin h-5 w-5 mr-2"}):null,"Enter the Garden"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(Y,{to:"/register",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"New to the Garden? Cultivate Your Path"})})]})]})]})}function Qe(){const[t,r]=s.useState(""),[a,l]=s.useState(""),[n,o]=s.useState(""),[u,i]=s.useState(""),[p,g]=s.useState(!1),m=pe(),{register:v}=A(),h=async w=>{if(w.preventDefault(),i(""),a!==n){i("Passwords do not match");return}if(a.length<6){i("Password must be at least 6 characters long");return}g(!0);const k=await v(t,a);k.success?m("/"):i(k.error),g(!1)};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-32 h-32 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-32 h-32 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-2xl border border-emerald-100 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-3 rounded-full bg-emerald-50 mb-4",children:e.jsx(O,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h2",{className:"text-3xl font-extrabold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Cultivate Your Path"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:"Begin your journey to mindful productivity"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[u&&e.jsxs("div",{className:"bg-red-50 text-red-500 p-4 rounded-lg text-sm border border-red-100 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Choose your username",value:t,onChange:w=>r(w.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Create your password",value:a,onChange:w=>l(w.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,className:"appearance-none relative block w-full px-4 py-3 border border-emerald-200 placeholder-gray-400 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password",value:n,onChange:w=>o(w.target.value)})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transform transition-all duration-200 hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed",children:[p?e.jsx(je,{className:"animate-spin h-5 w-5 mr-2"}):null,"Cultivate Your Path"]})}),e.jsx("div",{className:"text-sm text-center",children:e.jsx(Y,{to:"/login",className:"font-medium text-emerald-600 hover:text-emerald-700 transition-colors duration-200",children:"Already in the Garden? Enter"})})]})]})]})}function ye({show:t,onClose:r,reward:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-emerald-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-emerald-700 text-center mb-6 animate-fade-in-down",children:"Inner Peace Blossoms! ðŸŽ‰"}),e.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Your harvest:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-emerald-600 bg-emerald-50 px-4 py-3 rounded-lg border border-emerald-100 mb-8 break-words shadow-md",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-emerald-300 shadow-xl",children:"Cherish"})]})}):null}function Ne({show:t,onClose:r,punishment:a}){return t?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full transform transition-all duration-300 ease-out scale-100 opacity-100 border border-red-200",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-red-700 text-center mb-6 animate-fade-in-down",children:"A Pebble in Your Path ðŸ˜…"}),e.jsx("p",{className:"text-lg text-gray-700 text-center mb-6",children:"Time for reflection:"}),e.jsx("p",{className:"text-2xl font-bold text-center text-red-600 bg-red-50 px-4 py-3 rounded-lg border border-red-100 mb-8 break-words shadow-md",children:a}),e.jsx("button",{onClick:r,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-red-300 shadow-xl",children:"Embrace Growth"})]})}):null}function fe({onPomodoroEnd:t}){var oe,ie;const{user:r,fetchUser:a}=A(),{tasks:l,fetchTasks:n}=ae(),o=((oe=r==null?void 0:r.settings)==null?void 0:oe.pomodoroDuration)||25,u=((ie=r==null?void 0:r.settings)==null?void 0:ie.breakDuration)||5,[i,p]=s.useState(o),[g,m]=s.useState(u),[v,h]=s.useState(o*60),[w,k]=s.useState(!1),[y,C]=s.useState(!1),[D,x]=s.useState(!1),[S,M]=s.useState(""),[J,G]=s.useState(!1),[Z,K]=s.useState(""),[F,_]=s.useState(""),E=s.useRef(null),c=s.useRef(y),f=s.useRef(i),P=s.useRef(g),z=s.useRef(null),R=s.useRef(null),L=s.useRef(t),Q=s.useRef(k),ke=s.useRef(C);s.useEffect(()=>{c.current=y,f.current=i,P.current=g,L.current=t,Q.current=k,ke.current=C},[y,i,g,t,k,C]),s.useEffect(()=>{w||h(i*60)},[i,w]),s.useEffect(()=>{if(l.length>0){const d=l.filter(b=>!b.completed);d.length>0?_(d[0]._id):_("")}else _("")},[l]);const se=s.useCallback(async d=>{try{let b=null;r!=null&&r.rewards&&r.rewards.length>0&&(b=r.rewards[Math.floor(Math.random()*r.rewards.length)],M(b),x(!0));const N=localStorage.getItem("token");if(!N)return;(await fetch("/api/users/stats",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({completed:!0,reward:b,duration:d})})).ok&&await a(N),F&&await Se(F,d)}catch(b){console.error("Error during pomodoro complete process:",b)}},[r,F,a]),le=s.useCallback(async d=>{try{let b=null;r!=null&&r.punishments&&r.punishments.length>0&&(b=r.punishments[Math.floor(Math.random()*r.punishments.length)],K(b),G(!0));const N=localStorage.getItem("token");if(!N)return;(await fetch("/api/users/stats",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({completed:!1,punishment:b,duration:d})})).ok&&await a(N)}catch(b){console.error("Error during pomodoro interrupt process:",b)}},[r,a]);s.useEffect(()=>{z.current=se,R.current=le},[se,le]),s.useEffect(()=>(w?E.current=setInterval(()=>{h(d=>{var b,N;return d<=0?(clearInterval(E.current),k(!1),c.current?(C(!1),(N=L.current)==null||N.call(L),f.current*60):((b=z.current)==null||b.call(z,f.current),C(!0),P.current*60)):d-1})},1e3):E.current&&clearInterval(E.current),()=>{E.current&&clearInterval(E.current)}),[w]);const Ce=s.useCallback(d=>{const b=Math.floor(d/60),N=d%60;return`${b.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`},[]),Se=s.useCallback(async(d,b)=>{if(d)try{(await fetch(`/api/tasks/${d}/pomodoro`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({duration:b})})).ok&&await n()}catch(N){console.error("Error updating task:",N)}},[n]),Pe=s.useCallback(()=>{if(!F){alert("Please select a cultivation to focus on");return}k(!0),h(y?g*60:i*60)},[F,i,g,y]),Me=s.useCallback(()=>{k(!1)},[]),ze=s.useCallback(()=>{k(!1),C(!1),h(i*60)},[i]),ne=((y?g*60:i*60)-v)/(y?g*60:i*60)*100;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent mb-2",children:y?"Break Time":"Focus Session"}),e.jsx("p",{className:"text-gray-600",children:y?"Take a moment to breathe":"Stay focused and cultivate your garden"})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsxs("div",{className:"relative w-64 h-64",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-emerald-100"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-emerald-500",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.sin(ne/100*2*Math.PI-Math.PI/2)}% ${50+50*Math.cos(ne/100*2*Math.PI-Math.PI/2)}%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl font-bold text-emerald-600",children:Ce(v)})})]}),e.jsxs("div",{className:"flex space-x-4",children:[w?e.jsxs("button",{onClick:Me,className:"flex items-center space-x-2 px-6 py-3 bg-yellow-500 text-white rounded-full shadow-lg hover:bg-yellow-600 transition duration-300",children:[e.jsx(Ue,{}),e.jsx("span",{children:"Pause"})]}):e.jsxs("button",{onClick:Pe,className:"flex items-center space-x-2 px-6 py-3 bg-emerald-500 text-white rounded-full shadow-lg hover:bg-emerald-600 transition duration-300",children:[e.jsx(We,{}),e.jsx("span",{children:"Start"})]}),e.jsxs("button",{onClick:ze,className:"flex items-center space-x-2 px-6 py-3 bg-gray-300 text-gray-800 rounded-full shadow-lg hover:bg-gray-400 transition duration-300",children:[e.jsx(Ye,{}),e.jsx("span",{children:"Reset"})]})]}),e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 border border-emerald-100 space-y-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Customize Session"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"focusDuration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Focus Duration (minutes):"}),e.jsx("input",{type:"number",id:"focusDuration",value:i,onChange:d=>p(Math.max(1,parseInt(d.target.value)||0)),min:"1",max:"60",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"breakDuration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Break Duration (minutes):"}),e.jsx("input",{type:"number",id:"breakDuration",value:g,onChange:d=>m(Math.max(1,parseInt(d.target.value)||0)),min:"1",max:"30",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"selectTask",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Cultivation:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"selectTask",value:F,onChange:d=>_(d.target.value),className:"block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 appearance-none bg-white pr-8",children:[l.length===0&&e.jsx("option",{value:"",children:"No cultivations found"}),l.filter(d=>!d.completed).map(d=>e.jsx("option",{value:d._id,children:d.title},d._id)),l.filter(d=>d.completed).length>0&&e.jsx("optgroup",{label:"Completed Cultivations",children:l.filter(d=>d.completed).map(d=>e.jsxs("option",{value:d._id,disabled:!0,children:[d.title," (Completed)"]},d._id))})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),l.length===0&&e.jsxs("p",{className:"mt-2 text-sm text-gray-500 flex items-center space-x-1",children:[e.jsx("span",{children:"No cultivations yet."}),e.jsxs(Y,{to:"/tasks",className:"text-emerald-600 hover:underline flex items-center space-x-1",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Add a new one"})]})]})]})]})]}),e.jsx(ye,{show:D,onClose:()=>x(!1),reward:S}),e.jsx(Ne,{show:J,onClose:()=>G(!1),punishment:Z})]})}function Xe(){const{tasks:t,addTask:r,deleteTask:a,toggleTask:l}=ae(),[n,o]=s.useState(""),[u,i]=s.useState("all"),p=t.filter(m=>u==="active"?!m.completed:u==="completed"?m.completed:!0),g=m=>{m.preventDefault(),n.trim()&&(r(n.trim()),o(""))};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx(q,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Cultivations"})]}),e.jsx("div",{className:"flex space-x-2",children:[{type:"all",icon:O,label:"All Cultivations"},{type:"active",icon:te,label:"Flourishing"},{type:"completed",icon:X,label:"Harvested"}].map(({type:m,icon:v,label:h})=>e.jsxs("button",{onClick:()=>i(m),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 ${u===m?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-md":"bg-white text-gray-600 hover:bg-emerald-50 shadow-sm"}`,children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:h})]},m))})]}),e.jsxs("form",{onSubmit:g,className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),placeholder:"Plant a new seed...",className:"w-full px-4 py-3 pl-12 rounded-lg border border-emerald-200 focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out bg-white/50 backdrop-blur-sm"}),e.jsx(q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Plant"})]})]}),e.jsx("div",{className:"space-y-4",children:p.length===0?e.jsxs("div",{className:"text-center py-12 bg-white/50 backdrop-blur-sm rounded-xl border border-emerald-100 shadow-sm",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(O,{className:"w-8 h-8 text-emerald-400"})}),e.jsx("p",{className:"text-gray-600 text-lg",children:u==="all"?"Your garden is empty. Plant your first seed of growth.":u==="active"?"No cultivations are currently flourishing.":"No cultivations have been harvested yet."})]}):p.map(m=>e.jsx("div",{className:"group bg-white/80 backdrop-blur-sm rounded-xl shadow-sm hover:shadow-md border border-emerald-100 transition-all duration-300 ease-in-out transform hover:-translate-y-0.5",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>l(m._id),className:`w-7 h-7 rounded-full border-2 flex items-center justify-center transition-all duration-300 ease-in-out ${m.completed?"bg-gradient-to-r from-emerald-500 to-emerald-600 border-transparent text-white":"border-emerald-300 hover:border-emerald-500"}`,children:m.completed&&e.jsx(V,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-gray-700 transition-all duration-300 ease-in-out ${m.completed?"line-through text-gray-400":""}`,children:m.title})]}),e.jsx("button",{onClick:()=>a(m._id),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]})},m._id))})]})}function et(){const{user:t,fetchUser:r}=A(),[a,l]=s.useState([]),[n,o]=s.useState([]),[u,i]=s.useState(""),[p,g]=s.useState(""),[m,v]=s.useState(""),[h,w]=s.useState(!1),[k,y]=s.useState(null),[C,D]=s.useState(25);s.useEffect(()=>{var c;t&&(l(t.rewards||[]),o(t.punishments||[]),D(((c=t.settings)==null?void 0:c.dailyGoal)||25))},[t]);const x=async c=>{if(!h){v(""),w(!0),y(c);try{const f=localStorage.getItem("token");if(!f){v("Please log in again");return}let P={},z=`/api/users/${c}`,R="";if(c==="rewards"||c==="punishments")P={[c]:c==="rewards"?a:n},R=`${c==="rewards"?"Seeds of joy nurtured!":"Weeds uprooted!"}`;else if(c==="settings")P={settings:{dailyGoal:C}},R="Arrangements harmonized!";else throw new Error("Invalid update type");const L=await fetch(z,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(P)});if(!L.ok){const Q=await L.json();throw new Error(Q.error||"Server error")}v(R),await r(f)}catch(f){v(`Error updating ${c}: ${f.message||"Server unreachable. Please check if the server is running."}`)}finally{w(!1),y(null)}}},S=(c,f,P,z)=>{f.trim()&&(P(c==="rewards"?[...a,f.trim()]:[...n,f.trim()]),z(""))},M=(c,f,P)=>{P(c==="rewards"?a.filter((z,R)=>R!==f):n.filter((z,R)=>R!==f))},J=c=>{c.preventDefault(),x("settings")},G=()=>{S("rewards",u,l,i)},Z=c=>{M("rewards",c,l)},K=()=>{x("rewards")},F=()=>{S("punishments",p,o,g)},_=c=>{M("punishments",c,o)},E=()=>{x("punishments")};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx($,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Arrangements"})]}),m&&e.jsxs("div",{className:`p-4 rounded-xl text-sm flex items-center space-x-2 ${m.includes("Error")?"bg-red-50 text-red-500 border border-red-100":"bg-emerald-50 text-emerald-500 border border-emerald-100"}`,children:[m.includes("Error")?e.jsx(X,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:m})]}),e.jsxs("form",{onSubmit:J,className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(q,{className:"w-5 h-5 text-emerald-600"}),e.jsx("label",{htmlFor:"dailyGoal",className:"text-lg font-semibold text-gray-800",children:"Daily Cultivation Goal (minutes)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",id:"dailyGoal",value:C,onChange:c=>D(c.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"e.g., 120",required:!0}),e.jsx(O,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsx("button",{type:"submit",disabled:h,className:"mt-4 w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Harmonizing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Nurture Goal"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(te,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Seeds of Joy"})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:u,onChange:c=>i(c.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"Sow a new seed of joy..."}),e.jsx(q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Sow"})]})]}),e.jsx("ul",{className:"space-y-3",children:a.map((c,f)=>e.jsxs("li",{className:"group flex justify-between items-center bg-white/50 backdrop-blur-sm p-4 rounded-lg border border-emerald-100 shadow-sm transition-all duration-300 ease-in-out hover:shadow-md",children:[e.jsx("span",{className:"text-gray-700",children:c}),e.jsx("button",{onClick:()=>Z(f),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]},f))}),a.length>0&&e.jsx("button",{onClick:K,disabled:h,className:"mt-6 w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Nurturing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Nurture Seeds"})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(X,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Weeds to Uproot"})]}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",value:p,onChange:c=>g(c.target.value),className:"w-full px-4 py-3 pl-12 border border-emerald-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent shadow-sm transition-all duration-300 ease-in-out",placeholder:"Identify a weed to uproot..."}),e.jsx(O,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-emerald-500"})]}),e.jsxs("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out flex items-center space-x-2 group",children:[e.jsx(ee,{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Identify"})]})]}),e.jsx("ul",{className:"space-y-3",children:n.map((c,f)=>e.jsxs("li",{className:"group flex justify-between items-center bg-white/50 backdrop-blur-sm p-4 rounded-lg border border-emerald-100 shadow-sm transition-all duration-300 ease-in-out hover:shadow-md",children:[e.jsx("span",{className:"text-gray-700",children:c}),e.jsx("button",{onClick:()=>_(f),className:"p-2 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out rounded-lg hover:bg-red-50",children:e.jsx(re,{className:"w-4 h-4"})})]},f))}),n.length>0&&e.jsx("button",{onClick:E,disabled:h,className:"mt-6 w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 shadow-md flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed",children:h?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Clearing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{children:"Clear Weeds"})]})})]})]})}function tt(){const{user:t}=A(),[r,a]=s.useState({today:0,week:0,month:0,streak:0,dailyGoal:120,todayFocusTime:0});s.useEffect(()=>{(async()=>{try{const o=localStorage.getItem("token");if(!o)return;const u=await fetch("/api/users/pomodoro-stats",{headers:{Authorization:`Bearer ${o}`}});if(u.ok){const i=await u.json();a({today:i.daily||0,week:i.weekly||0,month:i.monthly||0,streak:i.currentStreak||0,dailyGoal:i.dailyGoal||120,todayFocusTime:i.todayFocusTime||0})}else console.error("Failed to fetch stats:",u.status,u.statusText)}catch(o){console.error("Error fetching stats:",o)}})()},[t]);const l=[{title:"Today's Cultivation",value:`${Math.floor(r.todayFocusTime/60)}h ${r.todayFocusTime%60}m`,icon:we,color:"from-emerald-500 to-emerald-600"},{title:"Weekly Growth",value:`${Math.floor(r.week/60)}h ${r.week%60}m`,icon:he,color:"from-blue-500 to-blue-600"},{title:"Monthly Journey",value:`${Math.floor(r.month/60)}h ${r.month%60}m`,icon:O,color:"from-green-500 to-green-600"},{title:"Current Flow",value:`${r.streak} days`,icon:xe,color:"from-orange-500 to-orange-600"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent mb-2",children:"Your Growth Journal"}),e.jsx("p",{className:"text-gray-600",children:"Track your journey of mindful cultivation"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((n,o)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform transition-all duration-300 ease-in-out hover:-translate-y-1 hover:shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:n.title}),e.jsx(n.icon,{className:`w-6 h-6 text-${n.color.split("-")[1]}-500`})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:n.value})]},o))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Growth Insights"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-50 rounded-lg border border-emerald-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-emerald-700 font-medium",children:"Daily Goal Progress"}),e.jsxs("p",{className:"text-sm text-emerald-600",children:[Math.min(100,Math.floor(r.todayFocusTime/(r.dailyGoal||120)*100)),"% of your daily goal"]})]}),e.jsx("div",{className:"w-16 h-16 relative",children:e.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:"M18 2.0845\r a 15.9155 15.9155 0 0 1 0 31.831\r a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#10B981",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.floor(r.todayFocusTime/(r.dailyGoal||120)*100))}, 100`})]})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium",children:"Weekly Average"}),e.jsxs("p",{className:"text-sm text-blue-600",children:[Math.floor(r.week/7)," minutes per day"]})]}),e.jsx(he,{className:"w-8 h-8 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-700 font-medium",children:"Current Streak"}),e.jsxs("p",{className:"text-sm text-orange-600",children:[r.streak," days of consistent cultivation"]})]}),e.jsx(xe,{className:"w-8 h-8 text-orange-500"})]})]})]})]})}function H(){const{user:t,logout:r}=A(),a=Fe(),[l,n]=s.useState("pomodoro"),[o,u]=s.useState(!1),[i,p]=s.useState(!1),[g,m]=s.useState(""),[v,h]=s.useState(""),[w,k]=s.useState(0),y=s.useMemo(()=>[{id:"pomodoro",label:"Zen Focus Session",icon:we},{id:"tasks",label:"Cultivations",icon:Ze},{id:"settings",label:"Arrangements",icon:$},{id:"report",label:"Growth Journal",icon:Ve}],[]);s.useEffect(()=>{const x=a.pathname.substring(1),S=y.find(M=>M.id===x);n(S?S.id:"pomodoro")},[a.pathname,y]),s.useCallback(()=>{var x,S;if((x=t==null?void 0:t.settings)!=null&&x.rewardSystemEnabled&&((S=t==null?void 0:t.rewards)==null?void 0:S.length)>0){const M=t.rewards[Math.floor(Math.random()*t.rewards.length)];m(M),u(!0)}},[t]),s.useCallback(()=>{var x,S;if((x=t==null?void 0:t.settings)!=null&&x.rewardSystemEnabled&&((S=t==null?void 0:t.punishments)==null?void 0:S.length)>0){const M=t.punishments[Math.floor(Math.random()*t.punishments.length)];h(M),p(!0)}},[t]);const C=s.useCallback(()=>{k(x=>x+1)},[]),D=s.useCallback(()=>{switch(l){case"tasks":return e.jsx(Xe,{});case"settings":return e.jsx(et,{});case"report":return e.jsx(tt,{},w);case"pomodoro":return e.jsx(fe,{onPomodoroEnd:C});default:return e.jsx(fe,{onPomodoroEnd:C})}},[l,w,C]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-emerald-100",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-emerald-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),e.jsx("div",{className:"absolute top-40 right-10 w-64 h-64 bg-emerald-300 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute bottom-10 left-1/2 w-64 h-64 bg-emerald-400 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-emerald-100 shadow-lg sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 rounded-full bg-emerald-50",children:e.jsx(O,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-600 to-emerald-800 bg-clip-text text-transparent",children:"Zentro Garden"})]}),e.jsx("div",{className:"h-6 w-px bg-emerald-200"}),e.jsxs("p",{className:"text-gray-600 italic",children:["Greetings, ",t==null?void 0:t.username,"! ðŸŒ±"]})]}),e.jsxs("button",{onClick:r,className:"group flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 ease-in-out",children:[e.jsx("span",{children:"Seek Tranquility"}),e.jsx(Je,{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex space-x-2 p-1 bg-white/50 backdrop-blur-sm rounded-xl shadow-lg border border-emerald-100",children:y.map(x=>e.jsxs(Y,{to:`/${x.id}`,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 ease-in-out transform hover:-translate-y-0.5 ${l===x.id?"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-md":"text-gray-600 hover:bg-emerald-50"}`,children:[e.jsx(x.icon,{className:"w-5 h-5"}),e.jsx("span",{children:x.label})]},x.id))})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-emerald-100 p-6 transform transition-all duration-300 ease-in-out hover:shadow-2xl",children:D()})]}),e.jsx(ye,{show:o,onClose:()=>u(!1),reward:g}),e.jsx(Ne,{show:i,onClose:()=>p(!1),punishment:v})]})}const rt=()=>e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-zen-green"})});function at(){const{user:t,loading:r}=A(),{loading:a}=ae();return r||a?e.jsx(rt,{}):e.jsxs(Be,{children:[e.jsx(B,{path:"/login",element:t?e.jsx(T,{to:"/pomodoro",replace:!0}):e.jsx(Ke,{})}),e.jsx(B,{path:"/register",element:t?e.jsx(T,{to:"/pomodoro",replace:!0}):e.jsx(Qe,{})}),e.jsx(B,{path:"/",element:t?e.jsx(T,{to:"/pomodoro",replace:!0}):e.jsx(T,{to:"/login",replace:!0})}),e.jsx(B,{path:"/tasks",element:t?e.jsx(H,{}):e.jsx(T,{to:"/login",replace:!0})}),e.jsx(B,{path:"/settings",element:t?e.jsx(H,{}):e.jsx(T,{to:"/login",replace:!0})}),e.jsx(B,{path:"/report",element:t?e.jsx(H,{}):e.jsx(T,{to:"/login",replace:!0})}),e.jsx(B,{path:"/pomodoro",element:t?e.jsx(H,{}):e.jsx(T,{to:"/login",replace:!0})}),e.jsx(B,{path:"*",element:e.jsx(T,{to:"/pomodoro",replace:!0})})]})}const st=()=>e.jsx(Ee,{children:e.jsx("div",{className:"min-h-screen bg-zen-beige",children:e.jsx(Oe,{children:e.jsx(Le,{children:e.jsx(at,{})})})})}),lt=ge(document.getElementById("root"));lt.render(e.jsx(st,{}));
//# sourceMappingURL=index-Df8su7e-.js.map
